<!DOCTYPE html>
<html>
  <head>
    
    <meta charset="utf-8">
    <title>Social Media Viz Demo</title>

    <!-- load D3 library -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>

  </head>
  
  <body>
    <svg id="viz" height="500" width="800" style="border: 1px solid grey;">
    </svg>
    <script>
      
window.addEventListener("load",run);
      

 /* 1. For each social site and each demographic segment, a chart showing the percentage of online users using that social site split across all the groups in the segment. (Visualizations of the first type)

 2.For each demographic segment, a chart showing the percentage of online users using each of the social sites across all the groups in the segments. (Visualizations of the second type)*/

function run () {
	//create several graphs
	
	//grab the data
	//var data = getDataRows(category);
	var social_sites = ['Pinterest','Instagram','LinkedIn','Twitter','Tumblr','Facebook'];
	var categories = ['Age','Education'];
	//make 25 graphs
	//5 for each website, then 5 for each category

	d3.select('body')
		.data(social_sites)
		.enter().append("div")
	d3.select('body')
		.selectAll("div")
		.data(categories)
		.enter().append(function(d) {
			return d; 
		});
}

function graph () {
	//create a graph
	var height = 500;
	var width = 800;

}

/* From 
   http://www.pewinternet.org/files/2015/01/PI_SocialMediaUpdate20144.pdf
*/

function getDataRows (category,media) {
    var data = [
	{ category:"Total", group:"all", media:"Tumblr", value:10},
	{ category:"Total", group:"all", media:"Facebook", value:72},
	{ category:"Total", group:"all", media:"Pinterest", value:31},
	{ category:"Total", group:"all", media:"Instagram", value:28},
	{ category:"Total", group:"all", media:"LinkedIn", value:25},
	{ category:"Total", group:"all", media:"Twitter", value:23},

	{ category:"Gender", group:"Men", media:"Tumblr", value:10},
	{ category:"Gender", group:"Women", media:"Tumblr", value:11},
	{ category:"Gender", group:"Men", media:"Facebook", value:66},
	{ category:"Gender", group:"Women", media:"Facebook", value:77},
	{ category:"Gender", group:"Men", media:"Pinterest", value:16},
	{ category:"Gender", group:"Women", media:"Pinterest", value:44},
	{ category:"Gender", group:"Men", media:"Instagram", value:24},
	{ category:"Gender", group:"Women", media:"Instagram", value:31},
	{ category:"Gender", group:"Men", media:"LinkedIn", value:26},
	{ category:"Gender", group:"Weomen", media:"LinkedIn", value:25},
	{ category:"Gender", group:"Men", media:"Twitter", value:25},
	{ category:"Gender", group:"Women", media:"Twitter", value:21},

	{ category:"Race", group:"White, Non-Hispanic", media:"Tumblr", value:9},
	{ category:"Race", group:"Black, Non-Hispanic", media:"Tumblr", value:15},
	{ category:"Race", group:"Hispanic", media:"Tumblr", value:15},
	{ category:"Race", group:"White, Non-Hispanic", media:"Facebook", value:70},
	{ category:"Race", group:"Black, Non-Hispanic", media:"Facebook", value:67},
	{ category:"Race", group:"Hispanic", media:"Facebook", value:75},
	{ category:"Race", group:"White, Non-Hispanic", media:"Pinterest", value:32},
	{ category:"Race", group:"Black, Non-Hispanic", media:"Pinterest", value:23},
	{ category:"Race", group:"Hispanic", media:"Pinterest", value:32},
	{ category:"Race", group:"White, Non-Hispanic", media:"Instagram", value:21},
	{ category:"Race", group:"Black, Non-Hispanic", media:"Instagram", value:47},
	{ category:"Race", group:"Hispanic", media:"Instagram", value:38},
	{ category:"Race", group:"White, Non-Hispanic", media:"LinkedIn", value:26},
	{ category:"Race", group:"Black, Non-Hispanic", media:"LinkedIn", value:22},
	{ category:"Race", group:"Hispanic", media:"LinkedIn", value:22},
	{ category:"Race", group:"White, Non-Hispanic", media:"Twitter", value:20},
	{ category:"Race", group:"Black, Non-Hispanic", media:"Twitter", value:28},
	{ category:"Race", group:"Hispanic", media:"Twitter", value:28},

	{ category:"Age", group:"18-29", media:"Tumblr", value:20},
	{ category:"Age", group:"30-49", media:"Tumblr", value:11},
	{ category:"Age", group:"50-64", media:"Tumblr", value:5},
	{ category:"Age", group:"65+", media:"Tumblr", value:2},
	{ category:"Age", group:"18-29", media:"Facebook", value:82},
	{ category:"Age", group:"30-49", media:"Facebook", value:79},
	{ category:"Age", group:"50-64", media:"Facebook", value:64},
	{ category:"Age", group:"65+", media:"Facebook", value:48},
	{ category:"Age", group:"18-29", media:"Pinterest", value:37},
	{ category:"Age", group:"30-49", media:"Pinterest", value:36},
	{ category:"Age", group:"50-64", media:"Pinterest", value:24},
	{ category:"Age", group:"65+", media:"Pinterest", value:16},
	{ category:"Age", group:"18-29", media:"Instagram", value:55},
	{ category:"Age", group:"30-49", media:"Instagram", value:28},
	{ category:"Age", group:"50-64", media:"Instagram", value:11},
	{ category:"Age", group:"65+", media:"Instagram", value:4},
	{ category:"Age", group:"18-29", media:"LinkedIn", value:22},
	{ category:"Age", group:"30-49", media:"LinkedIn", value:32},
	{ category:"Age", group:"50-64", media:"LinkedIn", value:26},
	{ category:"Age", group:"65+", media:"LinkedIn", value:12},
	{ category:"Age", group:"18-29", media:"Twitter", value:32},
	{ category:"Age", group:"30-49", media:"Twitter", value:29},
	{ category:"Age", group:"50-64", media:"Twitter", value:13},
	{ category:"Age", group:"65+", media:"Twitter", value:6},	

	{ category:"Education", group:"High School or less", media:"Tumblr", value:10},
	{ category:"Education", group:"Some College", media:"Tumblr", value:13},
	{ category:"Education", group:"College+", media:"Tumblr", value:9},
	{ category:"Education", group:"High School or less", media:"Facebook", value:71},
	{ category:"Education", group:"Some College", media:"Facebook", value:72},
	{ category:"Education", group:"College+", media:"Facebook", value:72},
	{ category:"Education", group:"High School or less", media:"Pinterest", value:25},
	{ category:"Education", group:"Some College", media:"Pinterest", value:37},
	{ category:"Education", group:"College+", media:"Pinterest", value:31},
	{ category:"Education", group:"High School or less", media:"Instagram", value:25},
	{ category:"Education", group:"Some College", media:"Instagram", value:32},
	{ category:"Education", group:"College+", media:"Instagram", value:26},
	{ category:"Education", group:"High School or less", media:"LinkedIn", value:8},
	{ category:"Education", group:"Some College", media:"LinkedIn", value:25},
	{ category:"Education", group:"College+", media:"LinkedIn", value:46},
	{ category:"Education", group:"High School or less", media:"Twitter", value:19},
	{ category:"Education", group:"Some College", media:"Twitter", value:23},
	{ category:"Education", group:"College+", media:"Twitter", value:27},

	{ category:"Income", group:"<30k", media:"Tumblr", value:16},
	{ category:"Income", group:"30k-49k", media:"Tumblr", value:8},
	{ category:"Income", group:"50k-74k", media:"Tumblr", value:4},
	{ category:"Income", group:"75k+", media:"Tumblr", value:11},	
	{ category:"Income", group:"<30k", media:"Facebook", value:73},
	{ category:"Income", group:"30k-49k", media:"Facebook", value:72},
	{ category:"Income", group:"50k-74k", media:"Facebook", value:66},
	{ category:"Income", group:"75k+", media:"Facebook", value:78},
	{ category:"Income", group:"<30k", media:"Pinterest", value:24},
	{ category:"Income", group:"30k-49k", media:"Pinterest", value:37},
	{ category:"Income", group:"50k-74k", media:"Pinterest", value:41},
	{ category:"Income", group:"75k+", media:"Pinterest", value:30},
	{ category:"Income", group:"<30k", media:"Instagram", value:26},
	{ category:"Income", group:"30k-49k", media:"Instagram", value:27},
	{ category:"Income", group:"50k-74k", media:"Instagram", value:30},
	{ category:"Income", group:"75k+", media:"Instagram", value:26},
	{ category:"Income", group:"<30k", media:"LinkedIn", value:17},
	{ category:"Income", group:"30k-49k", media:"LinkedIn", value:21},
	{ category:"Income", group:"50k-74k", media:"LinkedIn", value:32},
	{ category:"Income", group:"75k+", media:"LinkedIn", value:41},
	{ category:"Income", group:"<30k", media:"Twitter", value:21},
	{ category:"Income", group:"30k-49k", media:"Twitter", value:19},
	{ category:"Income", group:"50k-74k", media:"Twitter", value:25},
	{ category:"Income", group:"75k+", media:"Twitter", value:26}

	{ category:"Residence", group:"Urban", media:"Tumblr", value:16},
	{ category:"Residence", group:"Suburban", media:"Tumblr", value:8},
	{ category:"Residence", group:"Rural", media:"Tumblr", value:3},	
	{ category:"Residence", group:"Urban", media:"Facebook", value:74},
	{ category:"Residence", group:"Suburban", media:"Facebook", value:72},
	{ category:"Residence", group:"Rural", media:"Facebook", value:67},
	{ category:"Residence", group:"Urban", media:"Pinterest", value:26},
	{ category:"Residence", group:"Suburban", media:"Pinterest", value:34},
	{ category:"Residence", group:"Rural", media:"Pinterest", value:31},
	{ category:"Residence", group:"Urban", media:"Instagram", value:32},
	{ category:"Residence", group:"Suburban", media:"Instagram", value:28},
	{ category:"Residence", group:"Rural", media:"Instagram", value:18},
	{ category:"Residence", group:"Urban", media:"LinkedIn", value:30},
	{ category:"Residence", group:"Suburban", media:"LinkedIn", value:26},
	{ category:"Residence", group:"Rural", media:"LinkedIn", value:12},
	{ category:"Residence", group:"Urban", media:"Twitter", value:30},
	{ category:"Residence", group:"Suburban", media:"Twitter", value:21},
	{ category:"Residence", group:"Rural", media:"Twitter", value:15}];
	
    
    return data.filter(function(row) {
	return (row.category===category && row.year===year) ; });
}
    </script>
    
  </body>
  
</html>
